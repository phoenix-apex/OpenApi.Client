# .NET / C# Mita.Notifications.Client
This is a .NET / C# REST API client

* For the [MITA Notifications REST API](https://www.keycloak.org/docs-api/latest/rest-api/index.html)
* auto-generated by [OpenAPI Generator](https://openapi-generator.tech)
* using the [OpenAPI definitions](https://www.keycloak.org/docs-api/latest/rest-api/openapi.json) provided by Keycloak

## Documentation for API Endpoints

* Official documentation: [MITA Notifications REST API](https://www.keycloak.org/docs-api/latest/rest-api/index.html)
* Generated Swagger UI: [Swagger Editor](https://editor.swagger.io/?url=https://www.keycloak.org/docs-api/latest/rest-api/openapi.json)

## Installation
Install from NuGet package
```powershell
Install-Package Mita.Notifications.Client
```

## Getting Started

### Method names

Method names are humanized:

`POST` on path `/api/v1/messages` becomes `PostMessages(Async)`

### Sample code

With authentication by key/secret

```csharp
var config = new Configuration {
    Key = apiKey,
    Secret = apiSecret,
};
const string requestContent = """
                              {"ClientReference":"1ec867c3-bea6-46a3-8c40-7601c1779b79","MessageType":"sms","MessagePriority":"100","SenderId":"b2afc17b-ff7f-4982-80f4-36078a952aa7","CallbackUrl":null,"ScheduledDeliveryDate":"2024-04-13T02:00:00+02:00","Contacts":[{"DisplayName":"Test Contact 1","Title":null,"FirstName":"First Name 1","LastName":"Last Name 1","Email":"test1@gov.domain","MobileNo":"00263779960053","PreferredLanguage":"en"}],"MessageContent":[{"Language":"en","Subject":"Test Email Subject in English","MessageBody":"Email Body in English"},{"Language":"mt","Subject":"Test Suġġett bl-Malti","MessageBody":"Kontenut tal-email bil-Malti"}]}
                              """;

// var keysApi = new APIKeyApi(config);
// var keys = await keysApi.GetApiV1KeyAsync();
// Console.WriteLine(keys?.ToJson());

var payload = JsonConvert.DeserializeObject<CreateMessageRequest>(requestContent);
var messagesApi = new MessagesApi(config);
var inboundMessageBatch = await messagesApi.PostApiV1MessagesAsync(payload);
Console.WriteLine(inboundMessageBatch?.ToJson());
```
